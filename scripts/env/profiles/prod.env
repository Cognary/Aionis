# High-concurrency production profile (balanced safety + throughput).
DB_POOL_MAX=60
DB_POOL_IDLE_TIMEOUT_MS=30000
DB_POOL_CONNECTION_TIMEOUT_MS=3000

API_RECALL_MAX_INFLIGHT=512
API_RECALL_QUEUE_MAX=20000
API_RECALL_QUEUE_TIMEOUT_MS=1500
API_WRITE_MAX_INFLIGHT=192
API_WRITE_QUEUE_MAX=8000
API_WRITE_QUEUE_TIMEOUT_MS=1500

RECALL_RATE_LIMIT_RPS=40
RECALL_RATE_LIMIT_BURST=80
WRITE_RATE_LIMIT_RPS=20
WRITE_RATE_LIMIT_BURST=40
WRITE_RATE_LIMIT_MAX_WAIT_MS=150

TENANT_RECALL_RATE_LIMIT_RPS=80
TENANT_RECALL_RATE_LIMIT_BURST=160
TENANT_WRITE_RATE_LIMIT_RPS=30
TENANT_WRITE_RATE_LIMIT_BURST=60
TENANT_WRITE_RATE_LIMIT_MAX_WAIT_MS=200

RECALL_TEXT_EMBED_RATE_LIMIT_RPS=12
RECALL_TEXT_EMBED_RATE_LIMIT_BURST=24
RECALL_TEXT_EMBED_RATE_LIMIT_MAX_WAIT_MS=500
TENANT_RECALL_TEXT_EMBED_RATE_LIMIT_RPS=24
TENANT_RECALL_TEXT_EMBED_RATE_LIMIT_BURST=48
TENANT_RECALL_TEXT_EMBED_RATE_LIMIT_MAX_WAIT_MS=600

RECALL_TEXT_EMBED_BATCH_ENABLED=true
RECALL_TEXT_EMBED_BATCH_MAX_SIZE=32
RECALL_TEXT_EMBED_BATCH_MAX_WAIT_MS=10
RECALL_TEXT_EMBED_BATCH_MAX_INFLIGHT=8
RECALL_TEXT_EMBED_BATCH_QUEUE_MAX=20000
RECALL_TEXT_EMBED_BATCH_QUEUE_TIMEOUT_MS=4000

# Recall path tail-latency guardrails (only for non-pinned recall knobs).
MEMORY_RECALL_ADAPTIVE_HARD_CAP_ENABLED=true
MEMORY_RECALL_ADAPTIVE_HARD_CAP_WAIT_MS=700
MEMORY_RECALL_ADAPTIVE_HARD_CAP_LIMIT=16
MEMORY_RECALL_ADAPTIVE_HARD_CAP_NEIGHBORHOOD_HOPS=1
MEMORY_RECALL_ADAPTIVE_HARD_CAP_MAX_NODES=40
MEMORY_RECALL_ADAPTIVE_HARD_CAP_MAX_EDGES=50
MEMORY_RECALL_ADAPTIVE_HARD_CAP_RANKED_LIMIT=90
MEMORY_RECALL_ADAPTIVE_HARD_CAP_MIN_EDGE_WEIGHT=0.25
MEMORY_RECALL_ADAPTIVE_HARD_CAP_MIN_EDGE_CONFIDENCE=0.25

OUTBOX_POLL_INTERVAL_MS=300
OUTBOX_BATCH_SIZE=64
